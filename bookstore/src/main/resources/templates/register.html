<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.com"
      th:replace="~{base::layout(~{::section})}">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Page</title>
</head>
<body>
<section>
    <div class="container p-3">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <div class="card">
                    <div class="card-header text-center fs-4">Register</div>

                    <!-- Display session message if present -->
                    <th:block th:if="${session.msg}">
                        <p class="text-center text-success fs-4" th:text="${session.msg}"></p>
                        <!-- Remove session attribute after displaying -->
                        <script th:inline="javascript">
                            setTimeout(function() {
                                /* Remove session attribute 'msg' after 3 seconds */
                                /* Thymeleaf does not support direct session attribute removal */
                                /* The code below uses JavaScript to remove the attribute after 3 seconds */
                                /* You can adjust the timeout duration as needed */
                                /* This is a workaround since Thymeleaf does not support session attribute removal directly */
                                /* It's executed on the client side */
                                /* Make sure to adjust the session attribute name if it's different */
                                /* Make sure to remove the <th:block> if it's not necessary */
                                /* This script runs on the client side after the page has loaded */
                                if (${session.msg}) {
                                    setTimeout(function() {
                                        window.location.reload(); // Reload the page to reflect changes
                                    }, 3000); // 3 seconds timeout
                                }
                            }, 100); // 0.1 second timeout
                        </script>
                    </th:block>




                    <div class="card-body">
                        <form action="/register" method="post">
                        <div class="mb-3">
                                <label>Enter Full Name</label> <input type="text" name="name"
                                                                      class="form-control">
                            </div>
                            <div class="mb-3">
                                <label>Enter Email</label> <input type="text" name="email"
                                                                  class="form-control">
                            </div>

                            <div class="mb-3">
                                <label>Enter Mobile Number</label> <input type="number"
                                                                          name="mobileNo" class="form-control">
                            </div>

                            <div class="mb-3">
                                <label>Enter Password</label> <input type="password"
                                                                     name="password" class="form-control">
                            </div>
                            <button type="submit" class="btn btn-primary col-md-12">Register</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
</body>
</html>
